/* Team */
.team-intro {
  margin-top: 18px;
  color: rgba(238, 243, 255, 0.78);
  max-width: 60ch;
}

/* Horizontal gallery shell */
.team-gallery {
  position: relative;
  display: flex;
  gap: clamp(20px, 4vw, 32px);
  flex-wrap: nowrap;
  padding-block: clamp(24px, 4vw, 36px) clamp(32px, 5vw, 44px);
  padding-inline: clamp(32px, 6vw, 60px);
  scroll-padding-inline: clamp(32px, 6vw, 60px);
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  align-items: stretch;
  overflow-y: hidden;            /* horizontal only */
  touch-action: pan-x;           /* hint browsers to treat as horizontal scroller */
}

/* Fix card width in horizontal scroller */
#team-gallery .team-card { flex: 0 0 clamp(280px, 30vw, 340px); }

.team-gallery::-webkit-scrollbar { height: 6px; }
.team-gallery::-webkit-scrollbar-thumb { background: rgba(0, 219, 224, 0.52); border-radius: 999px; }
.team-gallery::-webkit-scrollbar-track { background: rgba(14, 22, 36, 0.65); border-radius: 999px; }

.team-gallery--dimmed .team-card:not(.is-active) {
  opacity: 0.45;
  filter: saturate(0.6) blur(1px);
}

/* Base card visuals (no flip logic here) */
.team-card {
  position: relative;
  scroll-snap-align: center;
  scroll-snap-stop: always;
  min-height: clamp(340px, 48vw, 420px);
  border-radius: 20px;
  background: linear-gradient(160deg, rgba(18, 20, 40, 0.92), rgba(12, 14, 32, 0.84));
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 18px 40px -28px rgba(0, 0, 0, 0.6);
  padding: clamp(16px, 3vw, 22px);
  touch-action: pan-x;           /* prevent vertical pan on cards */
}

.team-card__inner {
  position: relative;
  height: 100%;
  width: 100%;
}

.team-card__frame { margin: 0; }
.team-card__portrait {
  width: 100%;
  aspect-ratio: 4 / 5;
  border-radius: 16px;
  overflow: hidden;
  background: #0b0f1e;
  border: 1px solid rgba(255, 255, 255, 0.06);
}

.team-card__portrait img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center top;
  display: block;
  transition: transform var(--transition-base);
}

.team-card:hover .team-card__portrait img {
  transform: scale(1.02);
}

.team-card__meta {
  display: grid;
  gap: 8px;
  text-align: center;
  align-items: center;
  justify-items: center;
  margin-top: 10px;
}

/* Front meta spacing tuned so three lines fit neatly */
#team-gallery .team-card__meta { margin-top: 12px; gap: 6px; }
#team-gallery .team-card__name { line-height: 1.25; }
#team-gallery .team-card__role { line-height: 1.2; }
#team-gallery .team-card__email { line-height: 1.2; }

.team-card__name {
  margin: 0;
  font-size: 1.12rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  color: #fff;
  line-height: 1.3;
}

.team-card__role {
  margin: 0;
  font-size: 0.96rem;
  font-weight: 600;
  background: linear-gradient(120deg, rgba(95, 247, 255, 0.95), rgba(140, 128, 255, 0.9));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
}

.team-card__email {
  margin: 0;
  font-size: 0.85rem;
  color: rgba(232, 236, 255, 0.82);
  white-space: normal;
  word-break: break-word;
}

.team-card__email a {
  color: inherit;
  text-decoration: none;
  border-bottom: 1px dashed rgba(255, 255, 255, 0.18);
}

.team-card__email a:hover {
  border-bottom-style: solid;
}

/* Responsive adjustments */
@media (max-width: 720px) {
  .team-gallery {
    grid-auto-columns: minmax(240px, 82vw);
    padding-block: clamp(20px, 6vw, 32px) clamp(42px, 12vw, 56px);
    padding-inline: clamp(24px, 8vw, 40px);
    scroll-padding-inline: clamp(24px, 8vw, 40px);
  }
}

@media (max-width: 820px) {
  .team-card__name,
  .team-card__role,
  .team-card__email {
    max-width: 20ch;
  }
}

/* =====================================================================
   About â†’ Leadership flip cards (page-scoped 3D logic lives under
   #team-gallery so we avoid duplicate/competing transforms.
   ===================================================================== */
#team-gallery {
  align-items: stretch;
  perspective: 1600px;
  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d;
}

#team-gallery .team-card {
  cursor: pointer;
  height: 480px;
  z-index: 1;
  transition: z-index 0s step-end 520ms;
  isolation: isolate;
  touch-action: pan-x;           /* prevent vertical pan on cards */
}

#team-gallery .team-card__inner {
  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d;
  transform-origin: center;
  transition: transform 520ms ease, filter 320ms ease;
  width: 100%;
  height: 480px;
  will-change: transform;
  transform: translateZ(0) rotateY(0deg);
}

#team-gallery .team-card__face {
  position: absolute;
  inset: 0;
  display: grid;
  gap: 16px;
  padding: 16px;                /* use spacing but no extra boundary */
  background: none;             /* remove inner layer */
  border: 0;                    /* single boundary only (outer card) */
  border-radius: inherit;
  box-shadow: none;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  width: 100%;
  height: 100%;
}

#team-gallery .team-card__face--front {
  transform: rotateY(0deg);
  z-index: 2;
}

#team-gallery .team-card__face--back {
  transform: rotateY(180deg);
  z-index: 1;
  opacity: 0;
  align-content: start;
  visibility: hidden;
  padding: clamp(20px, 3vw, 28px);
}

#team-gallery .team-card.is-active .team-card__inner {
  transform: translateZ(0) rotateY(180deg);
}

#team-gallery .team-card.is-active .team-card__face--front {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}

#team-gallery .team-card.is-active .team-card__face--back {
  opacity: 1;
  visibility: visible;
}

#team-gallery .team-card.is-active {
  z-index: 10;
}

/* Back content */
#team-gallery .team-card__role--back {
  margin: 0;
  color: rgba(232, 242, 255, 0.9);
  font-size: 0.96rem;
  font-weight: 600;
  letter-spacing: 0.02em;
  text-align: center;
}

#team-gallery .team-card__back-body {
  display: grid;
  gap: 14px;
  color: rgba(232, 242, 255, 0.88);
}

/* Fit back content within card without vertical page scroll */
#team-gallery .team-card__back-body {
  max-height: calc(100% - 32px);
  overflow-y: auto;
}
#team-gallery .team-card__back-body::-webkit-scrollbar { width: 6px; }
#team-gallery .team-card__back-body::-webkit-scrollbar-thumb { background: rgba(0,219,224,.45); border-radius: 999px; }

#team-gallery .team-card__tagline {
  margin: 0;
  font-size: 0.78rem;
  letter-spacing: 0.24em;
  text-transform: uppercase;
  color: rgba(0, 219, 224, 0.82);
}

#team-gallery .team-card__bullets {
  margin: 8px 0 0;
  padding-left: 1.1rem;
  display: grid;
  gap: 6px;
  color: rgba(232, 242, 255, 0.88);
}

#team-gallery .team-card__bullets li::marker {
  color: rgba(0, 219, 224, 0.8);
}

/* Ambient aura on active/hover */
#team-gallery .team-card::before {
  content: "";
  position: absolute;
  inset: -24%;
  filter: blur(28px);
  opacity: 0;
  pointer-events: none;
  background:
    radial-gradient(60% 60% at 28% 12%, rgba(0, 219, 224, 0.20), transparent 60%),
    radial-gradient(44% 44% at 80% 72%, rgba(140, 128, 255, 0.18), transparent 60%);
  transition: opacity 0.28s ease;
}

#team-gallery .team-card:hover::before,
#team-gallery .team-card.is-active::before {
  opacity: 0.65;
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  #team-gallery .team-card__inner {
    transition: none;
  }
}
